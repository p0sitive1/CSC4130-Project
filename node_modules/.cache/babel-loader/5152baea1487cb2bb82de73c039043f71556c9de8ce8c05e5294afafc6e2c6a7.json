{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ander Shi\\\\Desktop\\\\4130_proj\\\\src\\\\components\\\\ScatterPlot.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { extent } from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScatterPlot = _ref => {\n  _s();\n  let {\n    config: {\n      colorScale,\n      containerWidth,\n      containerHeight,\n      margin,\n      tooltipPadding\n    },\n    radius,\n    data,\n    updateData\n  } = _ref;\n  const svgRef = React.useRef();\n  const chart = React.useRef();\n  const xAxisG = React.useRef();\n  const yAxisG = React.useRef();\n  const bars = React.useRef();\n  const _colorScale = React.useRef();\n  const width = React.useRef();\n  const height = React.useRef();\n  const xScale = React.useRef();\n  const yScale = React.useRef();\n  const xAxis = React.useRef();\n  const yAxis = React.useRef();\n  const _containerWidth = React.useRef();\n  const _containerHeight = React.useRef();\n  const [initialized, setInitialized] = React.useState(false);\n  const _tooltipPadding = React.useRef();\n  const _margin = React.useRef();\n  const colors = ['#FF0000', '#AA00FF', '#B9D7ED', '#00EAFF', '#FF7F00', '#BFFF00', '#0095FF', '#FF00AA', '#FFD400', '#EDB9B9'];\n  React.useEffect(() => {\n    initVis();\n  }, []);\n  React.useEffect(() => {\n    if (initialized) {\n      updateVis();\n    }\n  }, [data, radius]);\n  var oldx = 0;\n  var oldy = 0;\n  var dragging = true;\n  const initVis = () => {\n    let svg = d3.select(svgRef.current);\n    _tooltipPadding.current = tooltipPadding || 15;\n    _containerWidth.current = containerWidth || 800;\n    _containerHeight.current = containerHeight || 600;\n    svg.attr('width', _containerWidth.current).attr('height', _containerHeight.current);\n    _margin.current = margin || {\n      top: 25,\n      right: 20,\n      bottom: 20,\n      left: 40\n    };\n    width.current = _containerWidth.current - _margin.current.left - _margin.current.right;\n    height.current = _containerHeight.current - _margin.current.top - _margin.current.bottom;\n    xScale.current = d3.scaleLinear().range([0, width.current]);\n    yScale.current = d3.scaleLinear().range([height.current, 0]);\n    xAxis.current = d3.axisBottom(xScale.current).ticks(6).tickSize(-height.current - 10).tickPadding(10).tickFormat(d => d);\n    yAxis.current = d3.axisLeft(yScale.current).ticks(6).tickSize(-width.current - 10).tickPadding(10);\n    chart.current = svg.append('g').attr('transform', `translate(${_margin.current.left},${_margin.current.top})`);\n    xAxisG.current = chart.current.append('g').attr('class', 'axis x-axis').attr('transform', `translate(0,${height.current})`);\n    yAxisG.current = chart.current.append('g').attr('class', 'axis y-axis');\n    svg.append('text').attr('class', 'axis-title').attr('x', 0).attr('y', 0).attr('dy', '.71em').text('Width');\n    svg.append('text').attr('class', 'axis-title').attr('x', width.current - 10).attr('y', height.current + 10).attr('dy', '.71em').text('Length');\n    _colorScale.current = d3.scaleOrdinal().range(['#a0a1e2', '#6495ed', '#04ea17']).domain(['Easy', 'Intermediate', 'Difficult']);\n    setInitialized(true);\n  };\n  const updateVis = () => {\n    let svg = d3.select(svgRef.current);\n    let colorValue = d => d.cluster;\n    let xValue = d => d.length;\n    let yValue = d => d.width;\n    xScale.current.domain([d3.min(data, xValue), d3.max(data, xValue)]);\n    yScale.current.domain([d3.min(data, yValue), d3.max(data, yValue)]);\n\n    // renderVis()\n    bars.current = chart.current.selectAll('.point').data(data, d => d.trail).join('circle').attr('class', 'point').attr('r', radius || 6).attr('cy', d => yScale.current(yValue(d))).attr('cx', d => xScale.current(xValue(d))).attr('fill', d => colors[colorValue(d)]).on(\"click\", function () {\n      if (d3.event.shiftKey) {\n        dragging = false;\n        var cls = d3.select(this)._groups[0][0].classList.value;\n        if (cls.includes(\"selected\")) {\n          d3.select(this).classed(\"selected\", false);\n        } else {\n          d3.select(this).classed(\"selected\", true);\n        }\n        dragging = true;\n      }\n      ;\n    });\n    svg.call(d3.drag().on(\"start\", function () {\n      oldx = d3.event.x;\n      oldy = d3.event.y;\n    }).on(\"drag\", function () {\n      if (d3.event.sourceEvent.shiftKey) {\n        return;\n      }\n      if (!dragging) {\n        return;\n      }\n      var pts = d3.selectAll('.selected')._groups[0];\n      for (var i = 0; i < pts.length; i++) {\n        var tmpx = d3.select(pts[i])._groups[0][0].cx.baseVal.value;\n        var tmpy = d3.select(pts[i])._groups[0][0].cy.baseVal.value;\n        d3.select(pts[i]).attr('cx', tmpx + d3.event.x - oldx);\n        d3.select(pts[i]).attr('cy', tmpy + d3.event.y - oldy);\n      }\n      oldx = d3.event.x;\n      oldy = d3.event.y;\n    }).on(\"end\", function () {\n      if (d3.event.sourceEvent.shiftKey) {\n        return;\n      }\n      if (!dragging) {\n        return;\n      }\n      var pts = d3.selectAll('.selected')._groups[0];\n      var pos = [];\n      var values = [];\n      for (var i = 0; i < pts.length; i++) {\n        var oldl = d3.select(pts[i])._groups[0][0].__data__.length;\n        var oldw = d3.select(pts[i])._groups[0][0].__data__.width;\n        var tmpx = d3.select(pts[i])._groups[0][0].cx.baseVal.value;\n        var tmpy = d3.select(pts[i])._groups[0][0].cy.baseVal.value;\n        values.push([oldl, oldw]);\n        pos.push([tmpx, tmpy]);\n      }\n      console.log(values);\n      var tmp = [];\n      for (var i = 0; i < data.length; i++) {\n        var comp = [data[i].length, data[i].width];\n        for (var j = 0; j < values.length; j++) {\n          if (comp[0] == values[j][0] && comp[1] == values[j][1]) {\n            console.log(comp);\n            console.log(\"found\");\n            var x1 = xScale.current.invert(pos[j][0]);\n            var y1 = yScale.current.invert(pos[j][1]);\n            tmp.push([x1, y1]);\n            delete values[j];\n          } else {\n            tmp.push([data[i].length, data[i].width]);\n          }\n        }\n      }\n      updateData(tmp);\n    }));\n    xAxisG.current.call(xAxis.current);\n    yAxisG.current.call(yAxis.current);\n  };\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 9\n  }, this);\n};\n_s(ScatterPlot, \"rBPpqIPKAuU72v1EqkdioXltSwY=\");\n_c = ScatterPlot;\nexport default ScatterPlot;\nvar _c;\n$RefreshReg$(_c, \"ScatterPlot\");","map":{"version":3,"names":["React","d3","extent","ScatterPlot","config","colorScale","containerWidth","containerHeight","margin","tooltipPadding","radius","data","updateData","svgRef","useRef","chart","xAxisG","yAxisG","bars","_colorScale","width","height","xScale","yScale","xAxis","yAxis","_containerWidth","_containerHeight","initialized","setInitialized","useState","_tooltipPadding","_margin","colors","useEffect","initVis","updateVis","oldx","oldy","dragging","svg","select","current","attr","top","right","bottom","left","scaleLinear","range","axisBottom","ticks","tickSize","tickPadding","tickFormat","d","axisLeft","append","text","scaleOrdinal","domain","colorValue","cluster","xValue","length","yValue","min","max","selectAll","trail","join","on","event","shiftKey","cls","_groups","classList","value","includes","classed","call","drag","x","y","sourceEvent","pts","i","tmpx","cx","baseVal","tmpy","cy","pos","values","oldl","__data__","oldw","push","console","log","tmp","comp","j","x1","invert","y1"],"sources":["C:/Users/Ander Shi/Desktop/4130_proj/src/components/ScatterPlot.js"],"sourcesContent":["import React from 'react';\r\nimport * as d3 from 'd3';\r\nimport { extent } from 'd3';\r\n\r\n\r\nconst ScatterPlot = ({\r\n    config:{\r\n        colorScale,\r\n        containerWidth,\r\n        containerHeight,\r\n        margin,\r\n        tooltipPadding,\r\n    },\r\n    radius,\r\n    data,\r\n    updateData,\r\n}) => {\r\n\r\n    const svgRef = React.useRef();\r\n\r\n    const chart = React.useRef();\r\n    const xAxisG = React.useRef();\r\n    const yAxisG = React.useRef();\r\n    const bars = React.useRef();\r\n    const _colorScale = React.useRef();\r\n    const width = React.useRef();\r\n    const height = React.useRef();\r\n    const xScale = React.useRef();\r\n    const yScale = React.useRef();\r\n    const xAxis = React.useRef();\r\n    const yAxis = React.useRef();\r\n    const _containerWidth = React.useRef();\r\n    const _containerHeight = React.useRef();\r\n    const [ initialized, setInitialized ] = React.useState(false)\r\n    const _tooltipPadding = React.useRef()\r\n    const _margin = React.useRef();\r\n\r\n    const colors = ['#FF0000', '#AA00FF', '#B9D7ED', '#00EAFF', '#FF7F00', '#BFFF00', '#0095FF', '#FF00AA', '#FFD400', '#EDB9B9'];\r\n\r\n    React.useEffect(() =>{\r\n        initVis();\r\n    }, [])\r\n\r\n    React.useEffect(() => {\r\n        if (initialized) {\r\n            updateVis();\r\n        }        \r\n    }, [data, radius])  \r\n\r\n    var oldx = 0\r\n    var oldy = 0\r\n\r\n    var dragging = true;\r\n\r\n    const initVis = () => {\r\n        let svg = d3.select(svgRef.current);\r\n        _tooltipPadding.current = tooltipPadding || 15\r\n        _containerWidth.current = containerWidth || 800;\r\n        _containerHeight.current =  containerHeight || 600;\r\n        svg.attr('width', _containerWidth.current).attr('height', _containerHeight.current);\r\n        _margin.current = margin || {top: 25, right: 20, bottom: 20, left: 40};\r\n        width.current = _containerWidth.current - _margin.current.left - _margin.current.right;\r\n        height.current = _containerHeight.current - _margin.current.top - _margin.current.bottom;\r\n        \r\n        xScale.current = d3.scaleLinear().range([0, width.current]);\r\n        yScale.current = d3.scaleLinear().range([height.current, 0]);\r\n\r\n        xAxis.current = d3.axisBottom(xScale.current)\r\n            .ticks(6)\r\n            .tickSize(-height.current - 10)\r\n            .tickPadding(10)\r\n            .tickFormat(d => d);\r\n        yAxis.current = d3.axisLeft(yScale.current)\r\n            .ticks(6)\r\n            .tickSize(-width.current - 10)\r\n            .tickPadding(10);\r\n        \r\n        chart.current = svg.append('g').attr('transform', `translate(${_margin.current.left},${_margin.current.top})`);\r\n        xAxisG.current = chart.current.append('g').attr('class', 'axis x-axis').attr('transform', `translate(0,${height.current})`);\r\n        yAxisG.current = chart.current.append('g').attr('class', 'axis y-axis');\r\n        svg.append('text').attr('class', 'axis-title').attr('x', 0).attr('y', 0).attr('dy', '.71em').text('Width');\r\n        svg.append('text').attr('class', 'axis-title').attr('x', width.current-10).attr('y',height.current+10).attr('dy', '.71em').text('Length');\r\n\r\n        _colorScale.current = d3.scaleOrdinal()\r\n            .range(['#a0a1e2', '#6495ed', '#04ea17']) \r\n            .domain(['Easy','Intermediate','Difficult']);\r\n\r\n        setInitialized(true);\r\n    }\r\n\r\n    const updateVis = () => {\r\n        let svg = d3.select(svgRef.current);\r\n        let colorValue = d => d.cluster;\r\n        let xValue = d => d.length;\r\n        let yValue = d => d.width;\r\n\r\n        xScale.current.domain([d3.min(data, xValue), d3.max(data, xValue)]);\r\n        yScale.current.domain([d3.min(data, yValue), d3.max(data, yValue)]);\r\n\r\n        // renderVis()\r\n        bars.current = chart.current.selectAll('.point')\r\n        .data(data, d => d.trail)\r\n        .join('circle')\r\n        .attr('class', 'point')\r\n        .attr('r', radius || 6)\r\n        .attr('cy', d => yScale.current(yValue(d)))\r\n        .attr('cx', d => xScale.current(xValue(d)))\r\n        .attr('fill', d => colors[colorValue(d)])\r\n        .on(\"click\", function() {\r\n            if (d3.event.shiftKey) {\r\n                dragging = false;\r\n                var cls = d3.select(this)._groups[0][0].classList.value\r\n                if (cls.includes(\"selected\")){\r\n                    d3.select(this).classed(\"selected\", false)\r\n                }\r\n                else{\r\n                    d3.select(this).classed(\"selected\", true)\r\n                }\r\n                dragging = true;\r\n            };\r\n        })\r\n\r\n        svg.call(d3.drag()\r\n        .on(\"start\", function () {\r\n            oldx = d3.event.x\r\n            oldy = d3.event.y\r\n        })\r\n        .on(\"drag\", function () {\r\n            if (d3.event.sourceEvent.shiftKey) {return}\r\n            if (!dragging) {return}\r\n            var pts = d3.selectAll('.selected')._groups[0]\r\n            for (var i = 0; i < pts.length; i++){\r\n                var tmpx = d3.select(pts[i])._groups[0][0].cx.baseVal.value\r\n                var tmpy = d3.select(pts[i])._groups[0][0].cy.baseVal.value\r\n                d3.select(pts[i]).attr('cx', tmpx + d3.event.x - oldx)\r\n                d3.select(pts[i]).attr('cy', tmpy + d3.event.y - oldy)\r\n            }\r\n            oldx = d3.event.x\r\n            oldy = d3.event.y\r\n        })\r\n        .on(\"end\", function () {\r\n            if (d3.event.sourceEvent.shiftKey) {return}\r\n            if (!dragging) {return}\r\n            var pts = d3.selectAll('.selected')._groups[0]\r\n\r\n            var pos = []\r\n            var values = []\r\n            for (var i = 0; i < pts.length; i++){\r\n                var oldl = d3.select(pts[i])._groups[0][0].__data__.length\r\n                var oldw = d3.select(pts[i])._groups[0][0].__data__.width\r\n                var tmpx = d3.select(pts[i])._groups[0][0].cx.baseVal.value\r\n                var tmpy = d3.select(pts[i])._groups[0][0].cy.baseVal.value\r\n\r\n                values.push([oldl, oldw])\r\n                pos.push([tmpx, tmpy])\r\n            }\r\n\r\n            console.log(values)\r\n\r\n            var tmp = []\r\n            for (var i=0; i<data.length; i++){\r\n                var comp = [data[i].length, data[i].width]\r\n                for (var j=0; j<values.length; j++) {\r\n                    if (comp[0] == values[j][0] && comp[1] == values[j][1]){\r\n                        console.log(comp)\r\n                        console.log(\"found\")\r\n                        var x1 = xScale.current.invert(pos[j][0])\r\n                        var y1 = yScale.current.invert(pos[j][1])\r\n                        tmp.push([x1, y1])\r\n                        delete values[j]\r\n                        \r\n                    }\r\n                    else {\r\n                        tmp.push([data[i].length, data[i].width])\r\n                    }\r\n                }\r\n            } \r\n            updateData(tmp)\r\n\r\n\r\n        }))\r\n\r\n        xAxisG.current.call(xAxis.current);\r\n        yAxisG.current.call(yAxis.current);\r\n    }\r\n\r\n    return (\r\n        <svg ref={svgRef}></svg>\r\n    );\r\n}\r\n\r\nexport default ScatterPlot;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}